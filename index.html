<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DASS-21 Self-Assessment (UiTMCPP)</title>
<style>
:root{
  --bg:#fff;--ink:#111827;--muted:#4b5563;
  --accent:#5a2e8a;--accent2:#f0b429;
  --ok:#10b981;--warn:#f59e0b;--bad:#ef4444;--xbad:#b91c1c
}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;color:var(--ink);background:var(--bg)}
.wrap{max-width:960px;margin:0 auto;padding:20px}
header{display:block;border-bottom:1px solid #ddd;padding-bottom:8px;margin-bottom:12px}
.masthead{display:grid;grid-template-columns:96px auto;gap:16px;align-items:center}
.uitm-logo{width:96px;height:96px;display:flex;align-items:center;justify-content:center}
.uitm-logo img{max-height:70px;width:auto;display:block}
.uitm-logo .fallback{display:none;width:96px;height:96px;border-radius:8px;background:linear-gradient(135deg,#5a2e8a,#f0b429);color:#fff;font-weight:700;align-items:center;justify-content:center}
.titles h2{margin:0;font-size:22px;text-transform:uppercase}
.titles h3{margin:2px 0 0;font-size:18px;text-transform:uppercase}
button{border:0;border-radius:10px;padding:8px 14px;cursor:pointer;font-weight:600}
.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff}
.ghost{background:#fff;border:1px solid #ccc}
.card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:18px;margin:14px 0;box-shadow:0 4px 10px rgba(0,0,0,.03)}
.q{padding:12px;border-radius:12px;background:#fafafa;border:1px solid #e5e7eb;margin-bottom:10px}
.opts{display:grid;grid-template-columns:repeat(4,1fr);gap:6px}
.opt{padding:8px;border:1px solid #ccc;border-radius:10px;text-align:center;cursor:pointer}
input[type=radio]{display:none}
input[type=radio]:checked + .opt{border-color:var(--accent);background:rgba(90,46,138,.1)}
.score{border:1px solid #e5e7eb;border-radius:10px;padding:12px;margin-top:10px;background:#fafafa}
.sev.normal{color:var(--ok)}.sev.mild{color:var(--warn)}.sev.moderate{color:orange}.sev.severe{color:var(--bad)}.sev.extreme{color:var(--xbad)}
</style>
</head>
<body>
<div class="wrap">
<header>
  <div class="masthead">
    <div class="uitm-logo">
      <img src="uitm-logo.png" alt="UiTM logo" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">
      <div class="fallback">UiTM</div>
    </div>
    <div class="titles">
      <h2>Pusat Terapi Cara Kerja</h2>
      <h3>Fakulti Sains Kesihatan, UiTMCPP Kampus Bertam</h3>
    </div>
  </div>
</header>

<section class="card">
  <h2>Persetujuan & PDPA</h2>
  <p>Saya bersetuju bahawa maklumat yang dikumpul digunakan untuk tujuan penyelidikan dan audit perkhidmatan tanpa identiti peribadi.</p>
  <label><input type="checkbox" id="pdpa"> Saya bersetuju / I agree</label>
</section>

<section class="card">
  <h2>Skala DASS-21</h2>
  <p>Sila jawab semua 21 pernyataan berdasarkan keadaan seminggu lepas.</p>
  <form id="dassForm">
    <div id="questions"></div>
    <button type="button" class="primary" id="btnScore">Kira Skor</button>
  </form>
</section>

<section class="card">
  <h2>Keputusan</h2>
  <div class="score">Depression: <span id="depNum">0</span> (<span id="depSev" class="sev normal">Normal</span>)</div>
  <div class="score">Anxiety: <span id="anxNum">0</span> (<span id="anxSev" class="sev normal">Normal</span>)</div>
  <div class="score">Stress: <span id="strNum">0</span> (<span id="strSev" class="sev normal">Normal</span>)</div>
  <p style="font-size:13px">Disclaimer: This tool is for screening/education, not a diagnosis. If your scores are Moderate or higher, consider consulting a clinician.</p>
</section>
</div>

<script>
const items=[
"1. Saya rasa susah untuk bertenang / I found it hard to wind down",
"2. Saya sedar mulut saya rasa kering / I was aware of dryness of my mouth",
"3. Saya tidak dapat mengalami perasaan positif sama sekali / I couldn’t experience positive feeling at all",
"4. Saya mengalami kesukaran bernafas / I experienced breathing difficulty",
"5. Saya rasa tidak bersemangat untuk memulakan sesuatu / I found it difficult to work up initiative",
"6. Saya bertindak secara berlebihan / I tended to over-react",
"7. Saya pernah menggeletar / I experienced trembling",
"8. Saya rasa terlalu gelisah / I felt that I was using a lot of nervous energy",
"9. Saya risau akan berlaku keadaan panik / I was worried about situations in which I might panic",
"10. Saya rasa tidak ada yang saya harapkan / I felt that I had nothing to look forward to",
"11. Saya mudah resah / I found myself getting agitated",
"12. Saya merasa sukar untuk relaks / I found it difficult to relax",
"13. Saya rasa muram dan sedih / I felt down-hearted and blue",
"14. Saya tidak boleh terima apa jua yang menghalangi saya / I was intolerant of anything that kept me from getting on",
"15. Saya rasa hampir panik / I felt I was close to panic",
"16. Saya tidak bersemangat langsung / I was unable to become enthusiastic",
"17. Saya rasa diri saya tidak berharga / I felt I wasn’t worth much",
"18. Saya mudah tersinggung / I felt that I was rather touchy",
"19. Saya sedar akan debaran jantung / I was aware of the action of my heart",
"20. Saya rasa takut tanpa sebab / I felt scared without any good reason",
"21. Saya rasa hidup ini tidak bererti / I felt that life was meaningless"
];
const dep=[3,5,10,13,16,17,21],anx=[2,4,7,9,15,19,20],str=[1,6,8,11,12,14,18];
const qEl=document.getElementById('questions');
items.forEach((t,i)=>{
  const d=document.createElement('div');d.className='q';
  d.innerHTML=`<div>${t}</div>
  <div class='opts'>
  ${[0,1,2,3].map(v=>`<label><input type='radio' name='q${i+1}' value='${v}'><div class='opt'>${v}</div></label>`).join('')}
  </div>`;
  qEl.appendChild(d);
});
function sev(domain,score){
  if(domain==='d'&&score>=14)return'extreme';
  if(domain==='d'&&score>=11)return'severe';
  if(domain==='d'&&score>=8)return'moderate';
  if(domain==='d'&&score>=6)return'mild';
  if(domain==='a'&&score>=11)return'extreme';
  if(domain==='a'&&score>=9)return'severe';
  if(domain==='a'&&score>=7)return'moderate';
  if(domain==='a'&&score>=5)return'mild';
  if(domain==='s'&&score>=18)return'extreme';
  if(domain==='s'&&score>=14)return'severe';
  if(domain==='s'&&score>=10)return'moderate';
  if(domain==='s'&&score>=8)return'mild';
  return'normal';
}
document.getElementById('btnScore').onclick=()=>{
 let v={};for(let i=1;i<=21;i++){let s=document.querySelector(`input[name=q${i}]:checked`);v[i]=s?+s.value:null}
 if(Object.values(v).some(x=>x===null)){alert('Sila jawab semua soalan.');return;}
 let sd=0,sa=0,ss=0;
 for(let i=1;i<=21;i++){if(dep.includes(i))sd+=v[i];else if(anx.includes(i))sa+=v[i];else if(str.includes(i))ss+=v[i];}
 const ds=sev('d',sd),as=sev('a',sa),ssv=sev('s',ss);
 document.getElementById('depNum').textContent=sd;document.getElementById('anxNum').textContent=sa;document.getElementById('strNum').textContent=ss;
 document.getElementById('depSev').className='sev '+ds;document.getElementById('anxSev').className='sev '+as;document.getElementById('strSev').className='sev '+ssv;
 const map={normal:'Normal',mild:'Mild',moderate:'Moderate',severe:'Severe',extreme:'Extremely Severe'};
 document.getElementById('depSev').textContent=map[ds];document.getElementById('anxSev').textContent=map[as];document.getElementById('strSev').textContent=map[ssv];
};
</script>
</body>
</html>

